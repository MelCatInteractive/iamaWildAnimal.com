<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WildAnimal</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background-color: #000; color: #fff; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
    body.modal-open { overflow: hidden; }
    
    .page-title { padding: 1.5rem 2.5rem 2rem; flex-shrink: 0; }
    .page-title h1 { font-size: 1.75rem; font-weight: 300; letter-spacing: 0.1em; text-shadow: 0 0 30px rgba(255, 255, 255, 0.9), 0 0 50px rgba(255, 255, 255, 0.7), 0 0 70px rgba(255, 255, 255, 0.5), 0 0 90px rgba(255, 255, 255, 0.3); }
    .page-title h1 a { color: #fff; text-decoration: none; display: inline-block; transition: all 0.3s ease; }
    .page-title h1 a:hover {
      transform: scale(1.05);
      text-shadow: 0 0 20px #fff, 0 0 35px #fff, 0 0 50px rgba(255, 255, 255, 0.9),
                   0 0 25px #9146ff, 0 0 40px #9146ff, 0 0 55px #9146ff, 0 0 70px #9146ff,
                   0 0 90px rgba(145, 70, 255, 0.9), 0 0 110px rgba(145, 70, 255, 0.8), 0 0 140px rgba(145, 70, 255, 0.7), 0 0 170px rgba(145, 70, 255, 0.5);
      animation: wiggle 3.2s ease-in-out infinite;
    }
    @keyframes wiggle {
      0%, 12%, 30%, 45%, 68%, 78%, 100% { transform: scale(1.05) rotate(0deg); }
      3% { transform: scale(1.05) rotate(-0.6deg); }
      6% { transform: scale(1.05) rotate(0.4deg); }
      9% { transform: scale(1.05) rotate(-0.5deg); }
      33% { transform: scale(1.05) rotate(0.7deg); }
      36% { transform: scale(1.05) rotate(-0.4deg); }
      39% { transform: scale(1.05) rotate(0.6deg); }
      42% { transform: scale(1.05) rotate(-0.3deg); }
      70% { transform: scale(1.05) rotate(-0.5deg); }
      72% { transform: scale(1.05) rotate(0.8deg); }
      74% { transform: scale(1.05) rotate(-0.6deg); }
      76% { transform: scale(1.05) rotate(0.4deg); }
    }

    main { flex: 1; overflow: visible; display: flex; flex-direction: column; gap: 0.5rem; padding-bottom: 1.5rem; }
    #gallery { display: flex; flex-direction: column; gap: 0.5rem; height: 100%; }

    .loading { display: flex; align-items: center; justify-content: center; height: 100%; flex-direction: column; gap: 1rem; }
    .spinner { width: 2rem; height: 2rem; border: 2px solid rgba(255, 255, 255, 0.1); border-top-color: rgba(255, 255, 255, 0.4); border-radius: 50%; animation: spin 1s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }

    .scroll-section { opacity: 0; animation: fadeIn 0.8s ease forwards; perspective: 1200px; flex: 1; display: flex; align-items: center; position: relative; }
    .scroll-section:not(:last-child) { border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
    .scroll-section:nth-child(1) { animation-delay: 0.1s; }
    .scroll-section:nth-child(2) { animation-delay: 0.2s; }
    .scroll-section:nth-child(3) { animation-delay: 0.3s; }
    @keyframes fadeIn { to { opacity: 1; } }

    .scroll-container { display: flex; gap: 1rem; padding: 0 2.5rem; overflow: visible; height: 100%; align-items: center; }
    .scroll-wrapper { display: flex; width: fit-content; animation: infiniteScroll 120s linear infinite; transform-style: preserve-3d; }
    .scroll-wrapper:hover { animation-play-state: paused; }
    @keyframes infiniteScroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

    .image-card { flex: 0 0 auto; position: relative; cursor: pointer; transition: all 0.4s cubic-bezier(0.25, 0.4, 0.25, 1); width: 500px; transform-style: preserve-3d; }
    .image-card:hover { transform: translateY(-12px); z-index: 10; filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.4)); }
    .card-inner { overflow: hidden; background-color: rgba(255, 255, 255, 0.03); border-radius: 4px; border: 1px solid rgba(255, 255, 255, 0.05); transform-style: preserve-3d; transition: transform 0.6s cubic-bezier(0.25, 0.4, 0.25, 1); }
    .image-card:nth-child(4n+1) .card-inner { transform: rotateY(-2deg); }
    .image-card:nth-child(4n+2) .card-inner { transform: rotateY(1deg); }
    .image-card:nth-child(4n+3) .card-inner { transform: rotateY(-1deg); }
    .image-card:nth-child(4n+4) .card-inner { transform: rotateY(2deg); }
    .image-card:hover .card-inner { transform: rotateY(0deg); }
    .image-card img { width: 100%; height: auto; display: block; transition: transform 0.6s cubic-bezier(0.25, 0.4, 0.25, 1); }

    .modal { position: fixed; inset: 0; z-index: 50; display: none; align-items: center; justify-content: center; padding: 2rem; opacity: 0; transition: opacity 0.3s ease; }
    .modal.active { display: flex; opacity: 1; }
    .modal-backdrop { position: absolute; inset: 0; background-color: rgba(0, 0, 0, 0.95); backdrop-filter: blur(12px); }
    .modal-close { position: absolute; top: 2rem; right: 2rem; z-index: 10; padding: 0.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 4px; color: rgba(255, 255, 255, 0.6); cursor: pointer; transition: all 0.2s ease; }
    .modal-close:hover { background: rgba(255, 255, 255, 0.1); color: #fff; }
    .modal-close svg { width: 1.5rem; height: 1.5rem; display: block; }
    .modal-content { position: relative; max-width: 90vw; max-height: 90vh; transform: scale(0.95); opacity: 0; transition: all 0.4s cubic-bezier(0.25, 0.4, 0.25, 1); }
    .modal.active .modal-content { transform: scale(1); opacity: 1; }
    .modal-content img { max-width: 100%; max-height: 90vh; width: auto; height: auto; object-fit: contain; border-radius: 4px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5); }

    @media (max-width: 768px) {
      .scroll-container { gap: 0.75rem; padding: 0 1rem; }
      .image-card { width: 350px; }
    }
  </style>
</head>
<body>
  <div class="page-title">
    <h1><a href="https://www.twitch.tv/iamawildanimal" target="_blank" rel="noopener noreferrer">iamaWildAnimal.tv</a></h1>
  </div>

  <main>
    <div id="loading" class="loading">
      <div class="spinner"></div>
      <p style="color: rgba(255,255,255,0.4); font-size: 0.875rem;">Loading collection...</p>
    </div>
    <div id="gallery" style="display: none;"></div>
  </main>

  <div id="modal" class="modal">
    <div class="modal-backdrop"></div>
    <button class="modal-close" id="modal-close">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
    <div class="modal-content"><img id="modal-image" src="" alt=""></div>
  </div>

  <script>
    const IMAGE_LIST = [];
    const IMAGES_FOLDER = './images/';
    const AUTO_DETECT_COUNT = 50;
    let allImages = [];
    
    const loading = document.getElementById('loading');
    const gallery = document.getElementById('gallery');
    const modal = document.getElementById('modal');
    const modalImage = document.getElementById('modal-image');

    async function loadImages() {
      IMAGE_LIST.length > 0 ? (allImages = IMAGE_LIST.map(f => ({ url: IMAGES_FOLDER + f, name: f })), renderGallery()) : await autoDetectImages();
    }

    async function autoDetectImages() {
      const detected = [];
      const patterns = [i => `image${i}.png`, i => `image${i}.jpg`, i => `${i}.png`, i => `${i}.jpg`, i => `ad${i}.png`, i => `ad${i}.jpg`, i => `screenshot${i}.png`, i => `img${i}.png`];
      for (let i = 1; i <= AUTO_DETECT_COUNT; i++) {
        for (const pattern of patterns) {
          const filename = pattern(i);
          if (await imageExists(IMAGES_FOLDER + filename)) {
            detected.push({ url: IMAGES_FOLDER + filename, name: filename });
            break;
          }
        }
      }
      detected.length > 0 ? (allImages = detected, renderGallery()) : showError();
    }

    function imageExists(url) {
      return new Promise(resolve => {
        const img = new Image();
        img.onload = () => resolve(true);
        img.onerror = () => resolve(false);
        img.src = url;
        setTimeout(() => resolve(false), 1000);
      });
    }

    function showError() {
      loading.innerHTML = `<div style="text-align: center; max-width: 600px; padding: 2rem;"><p style="color: rgba(255,255,255,0.6); font-size: 1rem; margin-bottom: 1rem;">No images found</p><p style="color: rgba(255,255,255,0.4); font-size: 0.875rem; line-height: 1.6;">Add your image filenames to the IMAGE_LIST array.<br><br><code style="display: block; background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 4px; text-align: left; margin-top: 1rem;">const IMAGE_LIST = [<br>&nbsp;&nbsp;'image1.png',<br>&nbsp;&nbsp;'image2.jpg',<br>];</code></p></div>`;
    }

    function renderGallery() {
      if (!allImages.length) return showError();
      loading.style.display = 'none';
      gallery.style.display = 'block';
      
      const shuffled = [...allImages].sort(() => Math.random() - 0.5);
      const third = Math.ceil(shuffled.length / 3);
      gallery.innerHTML = [shuffled.slice(0, third), shuffled.slice(third, third * 2), shuffled.slice(third * 2)].map(createScrollSection).join('');
      
      const wrappers = document.querySelectorAll('.scroll-wrapper');
      [['100s', 'normal'], ['140s', 'reverse'], ['120s', 'normal']].forEach(([dur, dir], i) => {
        if (wrappers[i]) {
          wrappers[i].style.animationDuration = dur;
          wrappers[i].style.animationDirection = dir;
        }
      });
      
      document.querySelectorAll('.image-card').forEach(card => card.addEventListener('click', () => openModal(card.dataset.url)));
    }

    function createScrollSection(images) {
      if (!images.length) return '';
      const cards = images.map(img => `<div class="image-card" data-url="${img.url}"><div class="card-inner"><img src="${img.url}" alt="${img.name}" loading="lazy"></div></div>`).join('');
      return `<div class="scroll-section"><div class="scroll-container"><div class="scroll-wrapper">${cards}${cards}</div></div></div>`;
    }

    function openModal(url) {
      modalImage.src = url;
      modal.classList.add('active');
      document.body.classList.add('modal-open');
    }

    function closeModal() {
      modal.classList.remove('active');
      document.body.classList.remove('modal-open');
    }

    document.getElementById('modal-close').addEventListener('click', closeModal);
    modal.querySelector('.modal-backdrop').addEventListener('click', closeModal);
    document.addEventListener('keydown', e => e.key === 'Escape' && modal.classList.contains('active') && closeModal());
    modalImage.addEventListener('click', e => e.stopPropagation());

    loadImages();
  </script>
</body>
</html>